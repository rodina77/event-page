if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("GroupsCometJoinForumButton_action$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[b,a];return{kind:"SplitOperation",metadata:{},name:"GroupsCometJoinForumButton_action$normalization",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"GroupJoinFriction",kind:"LinkedField",name:"integrity_join_friction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"max",value:2}],kind:"ScalarField",name:"count_up_to",storageKey:"count_up_to(max:2)"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_intervention_view_model",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_experience",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_participation_request_toast",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"groups_forum_request_participation_toast_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"groups_forum_request_participation_success_toast_message",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_join_with_blocked_admin_interstitial",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupAdminsBlockedByViewerConnection",kind:"LinkedField",name:"admins_blocked_by_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"join_or_follow_button_shortened_cta_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_community_cta_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_group_cta_content",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("GroupsCometJoinForumButton_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometJoinForumButton_action",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"group.id"},{args:null,kind:"FragmentSpread",name:"useGroupsCometJoinForumAction_group"},{args:null,kind:"FragmentSpread",name:"useGroupsCometJoinBlockedAdminConfirmationDialog_group"},{alias:null,args:null,kind:"ScalarField",name:"join_or_follow_button_shortened_cta_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_community_cta_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_group_cta_content",storageKey:null}],storageKey:null},action:"THROW",path:"group"}],type:"GroupJoinForumAction",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometJoinForumAction_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometJoinForumAction_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"name"},{alias:null,args:null,concreteType:"GroupJoinFriction",kind:"LinkedField",name:"integrity_join_friction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"max",value:2}],kind:"ScalarField",name:"count_up_to",storageKey:"count_up_to(max:2)"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_intervention_view_model",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_experience",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_participation_request_toast",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"groups_forum_request_participation_toast_message",storageKey:null},action:"THROW",path:"if_viewer_can_see_follow_participation_request_toast.groups_forum_request_participation_toast_message"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"groups_forum_request_participation_success_toast_message",storageKey:null},action:"THROW",path:"if_viewer_can_see_follow_participation_request_toast.groups_forum_request_participation_success_toast_message"}],storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5450631701634025"}),null);
__d("GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters",["GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometRequestToParticipateOnJoinDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometRequestToParticipateOnJoinDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometRequestToParticipateOnJoinDialog.entrypoint",["GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.actorID,e=a.groupID;a=a.requestCreationSource;a=a===void 0?"GROUP_JOIN_USER_TRIGGERED":a;return{extraProps:{requestCreationSource:a},queries:{queryReference:{environmentProviderOptions:{actorID:b},parameters:c("GroupsCometRequestToParticipateOnJoinDialogQuery$Parameters"),variables:{groupID:e,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometRequestToParticipateOnJoinDialog.react").__setRef("GroupsCometRequestToParticipateOnJoinDialog.entrypoint")};g["default"]=a}),98);
__d("useGroupsCometJoinForumAction",["fbt","Actor","CometRelay","CometRelayEnvironmentFactory","GroupForumsFollowActionsFalcoEvent","GroupsCometIntegrityInformUtils","GroupsCometIntegrityJoinFrictionDialog.entrypoint","GroupsCometNextGenNavContext","GroupsCometPageSelfJoinDialog.entrypoint","GroupsCometRequestToParticipateOnJoinDialog.entrypoint","InterventionDialog.entrypoint","JSResourceForInteraction","cometPushToast","emptyFunction","react","requireDeferred","useCometEntryPointDialog","useCometLazyDialog","useGroupActorJoinRequestMutation","useGroupsCometJoinForumAction_group.graphql","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g,h){"use strict";var i;e=d("react");var j=e.useCallback,k=e.useContext,l=e.useState,m=c("requireDeferred")("GroupCometJoinForumMutation").__setRef("useGroupsCometJoinForumAction"),n=c("requireDeferred")("GroupsCometRequestToParticipateMutation").__setRef("useGroupsCometJoinForumAction"),o=c("requireDeferred")("SilenceableErrorMessageUtils").__setRef("useGroupsCometJoinForumAction"),p=c("JSResourceForInteraction")("GroupsCometFeatureLimitErrorDialog.react").__setRef("useGroupsCometJoinForumAction");function a(a,e,f,g,q){f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));q===void 0&&(q=null);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useGroupsCometJoinForumAction_group.graphql"),a);var r=a.action_intervention_view_model,s=a.actors_eligible_to_join,t=a.id,u=a.if_viewer_can_request_to_participate_on_join_in_forum,v=a.if_viewer_can_see_follow_experience,w=a.if_viewer_can_see_follow_participation_request_toast,x=a.integrity_join_friction,y=a.name;a=s==null?void 0:s.count_up_to;var z=a!=null&&a>1,A=u!=null,B=v!=null,C=k(c("GroupsCometNextGenNavContext"));s=d("Actor").useActor();var D=s[0],E=d("CometRelay").useRelayEnvironment();a=l(!1);u=a[0];var F=a[1];v=c("useCometLazyDialog")(p);var G=v[0];s=c("useCometEntryPointDialog")(c("GroupsCometIntegrityJoinFrictionDialog.entrypoint"),{actorID:D,groupID:t});var H=s[0];a=c("useCometEntryPointDialog")(c("GroupsCometPageSelfJoinDialog.entrypoint"),{groupID:t});var I=a[0];v=c("useCometEntryPointDialog")(c("InterventionDialog.entrypoint"),{actionType:"JOIN",entityID:t});var J=v[0],K=j(function(){var a=function(a){return a?h._(/*FBT_CALL*/"\u0644\u0642\u062f \u062a\u0627\u0628\u0639\u062a {group_name}."/*FBT_CALL*/,[h._param("group_name",y)]):h._(/*FBT_CALL*/"\u0627\u0646\u0636\u0645\u0645\u062a \u0625\u0644\u0649 {group_name}"/*FBT_CALL*/,[h._param("group_name",y)])};d("cometPushToast").cometPushSimpleToast(a(B))},[y,B]),L=j(function(a,b,e){var f=e!=null&&e!==D?d("CometRelayEnvironmentFactory").getForActorID(e):E;d("cometPushToast").cometPushToast({action:{label:h._(/*FBT_CALL*/"\u0646\u0639\u0645"/*FBT_CALL*/),onPress:function(){n.onReady(function(a){return a({environment:f,groupID:t,onCompleted:function(){d("cometPushToast").cometPushSimpleToast(b),c("GroupForumsFollowActionsFalcoEvent").log(function(){return{action:"click",cta_type:"request_participation",group_id:t,screen:"group_mall"}})},onError:function(){d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629."/*FBT_CALL*/))}})})}},message:a})},[D,E,t]),M=function(){return d("cometPushToast").cometPushErrorToast({message:h._(/*FBT_CALL*/"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u064b\u0627."/*FBT_CALL*/)})};function N(a){o.onReady(function(b){var c=b.getMetadataFromError;b=b.shouldHideErrorMessage;F(!1);M();f();var d=Array.isArray(a)?a==null?void 0:a[0]:a;if(b(c(d)))return;G({error:a,onClose:function(){}})})}s=c("useCometEntryPointDialog")(c("GroupsCometRequestToParticipateOnJoinDialog.entrypoint"),{actorID:D,groupID:t});var O=s[0],P=c("useMinifiedProductAttribution")(),Q=j(function(){m.onReady(function(a){a(E,t,e,C,function(){F(!1),w!=null?L(w.groups_forum_request_participation_toast_message,w.groups_forum_request_participation_success_toast_message):K(),g()},function(){F(!1),M(),f()},q,P)}),A&&O({actorID:D})},[D,A,E,t,q,C,P,f,g,L,O,K,w,e]),R=c("useGroupActorJoinRequestMutation")(),S=function(){return F(!1)},T=function(){if(z)return I({actorID:D,onCancel:S,onCommitJoinMutation:R,onJoinMutationCompleted:function(a){F(!1),w!=null?L(w.groups_forum_request_participation_toast_message,w.groups_forum_request_participation_success_toast_message,a):K(),g(a)},onSubmitError:N});Q()};a=function(){F(!0);if(c("GroupsCometIntegrityInformUtils").isInformTypeSupported(x==null?void 0:x.type))return H({onConfirm:function(){T()}});if((r==null?void 0:r.__typename)!=null)return J({onConfirmLike:T,showEntityProfileCTA:e!=="group_mall"});T()};return[a,u]}g["default"]=a}),98);
__d("GroupsCometJoinForumButton.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometProgressButtonIndeterminate.react","CometRelay","GroupForumsFollowActionsFalcoEvent","GroupsCometJoinButtonWithMenu.react","GroupsCometJoinForumButton_action.graphql","GroupsCometNextGenNavContext","TetraButton.react","emptyFunction","fbicon","qex","react","useGroupsCometJoinBlockedAdminConfirmationDialog","useGroupsCometJoinForumAction","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=d("react").useContext,m=(e=c("qex")._("46"))!=null?e:!1;function a(a){var e=a.action,f=a.isPrimary;f=f===void 0?!1:f;var g=a.groupShareTrackingParams;g=g===void 0?null:g;var n=a.onPressJoin,o=n===void 0?c("emptyFunction"):n;n=a.onRequestToJoinError;var p=n===void 0?c("emptyFunction"):n;n=a.onRequestToJoinSuccess;var q=n===void 0?c("emptyFunction"):n;n=a.reduceEmphasis;n=n===void 0?!1:n;var r=a.source,s=a.useShortenedCTA;s=s===void 0?!1:s;var t=a.withMenu;t=t===void 0?!1:t;a=a.testid;a=a===void 0?"":a;e=d("CometRelay").useFragment(j!==void 0?j:j=b("GroupsCometJoinForumButton_action.graphql"),e);var u=e.group;e=c("useGroupsCometJoinForumAction")(u,r,function(){return p(u.id)},function(a){return q(u.id,a)},g);var v=e[0];g=e[1];e=function(){o(),v(),c("GroupForumsFollowActionsFalcoEvent").log(function(){return{action:"click",cta_type:"join_follow",group_id:u.id,screen:"group_mall"}})};e=c("useGroupsCometJoinBlockedAdminConfirmationDialog")(u,e);var w=l(c("GroupsCometNextGenNavContext")),x=r==="gysj"||r==="group_subfeed_page"||r==="live_audio_room_join_group_cta";r=x||r==="group_mall"||w;w={icon:r?d("fbicon")._(i("943398"),16):void 0,label:s?(w=u==null?void 0:u.join_or_follow_button_shortened_cta_content)!=null?w:h._(/*FBT_CALL*/"\u0627\u0646\u0636\u0645\u0627\u0645"/*FBT_CALL*/):m?(r=u==null?void 0:u.follow_button_community_cta_content)!=null?r:h._(/*FBT_CALL*/"\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u062a\u0645\u0639"/*FBT_CALL*/):(s=u==null?void 0:u.follow_button_group_cta_content)!=null?s:h._(/*FBT_CALL*/"\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"/*FBT_CALL*/),onPress:e,reduceEmphasis:n||x,testid:a,type:f?"primary":"secondary"};r=c("useVisibilityObserver")({onVisible:function(){c("GroupForumsFollowActionsFalcoEvent").log(function(){return{action:"impression",cta_type:"join_follow",group_id:u.id,screen:"group_mall"}})}});if(g)return k.jsx(c("CometProgressButtonIndeterminate.react"),babelHelpers["extends"]({},w));return t?k.jsx(c("CometColumn.react"),{ref:r,children:k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("GroupsCometJoinButtonWithMenu.react"),{groupID:u.id,primaryButtonConfig:w})})}):k.jsx(c("TetraButton.react"),babelHelpers["extends"]({},w))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);